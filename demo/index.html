<!DOCTYPE html>
<html>

<head>
  <title>demo</title>
  <script>
    navigator.serviceWorker.register('sw.js')

    async function hello() {
      const name = document.querySelector("#name").value

      try {
        const res = await fetch('api/hello', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({message: "Hello from JS!"})
        })

        const data = await res.json()

        document.querySelector('#out').innerHTML = JSON.stringify(data)
      }
      catch(e) {
        console.error(e)
      }


    }
  </script>
</head>

<body>
  <label for="name">Name: </label><input id="name" value="World">
  <button onclick="hello()">Hello</button>
  <pre id="out"></pre>
</body>

</html>